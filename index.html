<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<!-- Load a modern UI font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css" />
<title>Meevis Solar Panel</title>
</head>
<body>

<header class="site-header">
  <!-- Logo + Username -->
  <div class="logo-user">
    <img src="logo.png" alt="Meevis Solar" class="logo-img">
     <span class="username-text" id="username">No username</span>
  </div>
  </div>

<div class="header-right">
  <button id="connectBtn">Connect Pad</button>
</div>

  <!-- Centered nav -->
  <nav class="main-nav" role="navigation" aria-label="Main">
    <button class="active">Overview</button>
    <button>Analytics</button>
    <button>Monitoring</button>
  </nav>
</header>

      <!-- Hero Section -->
  <div class="hero-wrapper">
  <section class="hero">
  <div class="hero-bg">
    <img src="sidewalks.png" alt="Sidewalk" class="hero-img">
  </div>
  <div class="hero-content">
    <h1 class="username-greeting">Welcome, <span id="usernameDisplay">User</span>!</h1>
  </div>
</section>

</div>

<main>

  <!-- Data Grid -->
  <section class="data-grid-container">
        <!-- Placeholder Arduino Data Widget -->
<article class="data-card" id="arduinoBlock">
  <header class="card-top">
    <h3>Arduino Voltage</h3>
  </header>
  <div class="metric" id="arduinoValue">-- V</div>
  <div class="mini-chart">[Live]</div>
</article>
 
  

    <!-- Card 1: Power Generated Today -->
    <article class="data-card popup-trigger" data-overlay="powerTodayOverlay">
      <header class="card-top">
        <h3>Power generated today</h3>
      </header>
      <div class="metric-large">
        <span class="handwritten">4.000</span> kWh
      </div>
      <div class="card-footer">
        <span class="trend up">↑ 30%</span>
        <span class="trend down">↓ 20%</span>
      </div>
    </article>

    <!-- Card 2: Weekly Average -->
    <article class="data-card popup-trigger" data-overlay="weeklyAverageOverlay">
      <header class="card-top">
        <h3>Weekly average</h3>
      </header>
      <div class="chart-container">
        <canvas id="weeklyAverageChart"></canvas>
      </div>
    </article>

    <!-- Card 3: Achievement System -->
    <article class="data-card popup-trigger" data-overlay="achievementsOverlay">
      <header class="card-top">
        <h3>Achievement system</h3>
      </header>
      <div class="progress-group">
        <div class="progress-item">
          <label>Steps</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 80%;"></div>
          </div>
          <span>8000/10.000</span>
        </div>
        <div class="progress-item">
          <label>Energy</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 75%;"></div>
          </div>
          <span>7500/10.000 kWh</span>
        </div>
        <div class="progress-item">
          <label>Money Saved</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 70%;"></div>
          </div>
          <span>7000/10.000 $</span>
        </div>
        <div class="progress-item">
          <label>CO₂ Reduction</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 30%;"></div>
          </div>
          <span>3000/10.000 kg</span>
        </div>
      </div>
    </article>

    <!-- Card 4: Energy Per Step -->
    <article class="data-card popup-trigger" data-overlay="energyStepOverlay">
      <div class="card-content-icon">
        <div class="battery-icon"></div>
        <p>Amount of energy produced per step: <strong>30 Wh</strong></p>
      </div>
    </article>

    <!-- Card 5: Stored vs Used Energy -->
    <article class="data-card popup-trigger" data-overlay="storedUsedOverlay">
      <header class="card-top">
        <div class="lightning-icon"></div>
      </header>
      <div class="dual-metrics">
        <div class="metric-item">
          <h4>Stored Energy</h4>
          <div class="metric-value">350 <span class="unit">kWh</span></div>
          <span class="trend up">+30%</span>
        </div>
        <div class="metric-item">
          <h4>Used Energy</h4>
          <div class="metric-value">250 <span class="unit">kWh</span></div>
          <span class="trend down">+25%</span>
        </div>
      </div>
    </article>
  </section>

<!-- Overlays for new cards -->
<div class="card-overlay" id="powerTodayOverlay">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Power Generated Today</h2>
    <canvas id="powerTodayChart" height="150"></canvas>
    <p>Today’s production is 30% higher than yesterday.</p>
  </div>
</div>

<div class="card-overlay" id="weeklyAverageOverlay">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Weekly Average</h2>
    <canvas id="weeklyAverageDetailChart" height="150"></canvas>
    <div class="stats-area">
      <p>Best Day: Friday</p>
      <p>Average kWh/day: 4.5</p>
      <p>Change vs last week: +15%</p>
    </div>
  </div>
</div>

<div class="card-overlay" id="achievementsOverlay">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Achievement System</h2>
    <!-- Larger progress bars can be styled in CSS, or you can add a class -->
    <div class="progress-group expanded">
        <div class="progress-item">
          <label>Steps</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 80%;"></div>
          </div>
          <span>8000/10.000</span>
        </div>
        <div class="progress-item">
          <label>Energy</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 75%;"></div>
          </div>
          <span>7500/10.000 kWh</span>
        </div>
        <div class="progress-item">
          <label>Money Saved</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 70%;"></div>
          </div>
          <span>7000/10.000 $</span>
        </div>
        <div class="progress-item">
          <label>CO₂ Reduction</label>
          <div class="progress-bar-wrapper">
            <div class="progress-bar-inner" style="width: 30%;"></div>
          </div>
          <span>3000/10.000 kg</span>
        </div>
    </div>
    <canvas id="achievementsBarChart" height="150"></canvas>
    <p>You have reached 80% of your step goal.</p>
  </div>
</div>

<div class="card-overlay" id="energyStepOverlay">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Energy Per Step</h2>
    <canvas id="energyStepChart" height="150"></canvas>
    <p>On average, one step currently produces 30 Wh.</p>
  </div>
</div>

<div class="card-overlay" id="storedUsedOverlay">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Stored vs Used Energy</h2>
    <div class="chart-row">
        <canvas id="storedUsedDoughnutChart" height="120" width="120"></canvas>
        <canvas id="storedEnergyLineChart" height="120"></canvas>
    </div>
    <p>An explanation of stored vs. used energy.</p>
  </div>
</div>

<!-- Overlays -->
<div class="card-overlay" id="popupOverlay1">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Current Power Details</h2>
    <p>Detailed breakdown and graphs here.</p>
  </div>
</div>

<div class="card-overlay" id="popupOverlay2">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Production Details</h2>
    <p>Graph and details here.</p>
  </div>
</div>

<div class="card-overlay" id="popupOverlay3">
  <div class="popup-card">
    <button class="closePopup">×</button>
    <h2>Consumption Details</h2>
    <p>Graph and details here.</p>
  </div>
</div>

<!-- Username Overlay -->
<div class="card-overlay" id="usernameOverlay">
  <div class="popup-card">
    <button class="closePopup">&times;</button>
    <h3>Edit Username</h3>
    <input type="text" id="usernameInput" placeholder="Enter new username" style="width:100%; padding:8px; margin-top:12px; border-radius:6px; border:1px solid #ccc; font-size:14px;">
    <button id="saveUsername" style="margin-top:12px; padding:8px 12px; border:none; background:var(--color-accent-solar); color:#fff; border-radius:6px; cursor:pointer;">Save</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
<script src="app.js"></script>
<script src="arduino.js"></script>
<script src="scroll.js"></script>
</body>
</html>